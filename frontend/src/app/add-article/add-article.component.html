<div class="toolbar" aria-label="Werkzeugleiste" i18n-aria-label="@@Toolbar">

<button class="button button-label button-highlight-sub" tabindex="0"
        aria-label="Abbrechen" i18n-aria-label="@@ButtonCancelAriaLabel"
        matTooltip="Abbrechen" i18n-matTooltip="@@ButtonCancelTooltip"
        (click)="onEscapeKey()">
  <mat-icon>close</mat-icon>
  <span i18n="@@ButtonCancel">Abbrechen</span>
</button>

  <button
    class="button button-label button-highlight-main"
    tabindex="0"
    aria-label="Speichern"
    i18n-aria-label="@@ButtonSaveAriaLabel"
    matTooltip="Speichern"
    i18n-matTooltip="@@ButtonSaveTooltip"
    (click)="onSave()">
    <mat-icon>check</mat-icon>
    <span i18n="@@ButtonSave">Speichern</span>
  </button>

</div>

<div class="scrollable-content" aria-label="Scrollbarer Inhalt" i18n-aria-label="@@ScrollableContent">
  <form (ngSubmit)="onSave()">
    <div class="form-group">
      <app-input-field
        [(ngModel)]="article.name"
        name="articleName"
        [label]="'Name'"
        [maxLength]="maxLengthName"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.number"
        name="articleNumber"
        [label]="'Nummer'"
        [maxLength]="maxLengthNumber"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.customer"
        name="articleCustomer"
        [label]="'Kunde'"
        [maxLength]="maxLengthCustomer"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.surface"
        name="articleSurface"
        [label]="'Fläche'"
        [maxLength]="maxLengthSurface"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.dripOff"
        name="articleDripOff"
        [label]="'Abtropfen'"
        [maxLength]="maxLengthDripOff"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.anodic"
        name="articleAnodic"
        [label]="'Anodisch'"
        [maxLength]="maxLengthAnodic"
        [required]="true">
      </app-input-field>

      <app-input-field
        [(ngModel)]="article.comment"
        name="articleComment"
        [label]="'Bemerkung'"
        [maxLength]="maxLengthComment">
      </app-input-field>
    </div>
  </form>

  <div class="positions-section">
    <div class="selected-positions">
      <h3>Ausgewählte Positionen</h3>
      <div cdkDropList (cdkDropListDropped)="onDrop($event)" class="positions-container">
        @for (position of selectedPositions; track position.id) {
          <app-sequence-card
            [position]="position"
            [index]="$index"
            [editingPosition]="editingPosition"
            [editingField]="editingField"
            (toggleSelection)="toggleSelection($event)"
            (remove)="removePosition($event)"
            (startEditing)="startEditing($event)"
            (confirmEdit)="confirmEdit($event)"
            (cancelEdit)="cancelEdit()">
          </app-sequence-card>
        }
      </div>
    </div>
  </div>
</div>

