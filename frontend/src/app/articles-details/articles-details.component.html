<div class="content-container">
  @if (article) {
    <div class="article-actions">
      <button class="button vonesco card-button" 
              [disabled]="isLoading()" 
              (click)="onLoad()">
        @if (isLoading()) {
          <mat-spinner diameter="20"></mat-spinner>
        } @else {
          <mat-icon>download</mat-icon>
        }
        <span>Laden</span>
      </button>
    </div>

    <div>
      <app-article-card
        [article]="article"
        [showCheckbox]="false"
        [showHeader]="false"
        [isInDetails]="true"
        [isEditable]="enableEdit()">
      </app-article-card>

      @if (article.sequence && article.sequence.length > 0) {
        <div cdkDropList (cdkDropListDropped)="onDrop($event)" class="sequences-container">
          @for (seq of article.sequence; track seq.positionId) {
            <div cdkDrag class="sequence-wrapper">
              <app-sequence-card
                [sequence]="seq"
                [isEditable]="enableEdit()">
              </app-sequence-card>
            </div>
          }
        </div>
      }
    </div>
  } @else {
    <div>Loading article details...</div>
  }
</div>
